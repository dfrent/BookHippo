<!DOCTYPE html>
<html>
  <head>
    <title>BookHippo</title>
    <%= csrf_meta_tags %>

    <%= stylesheet_link_tag    'application', media: 'all', 'data-turbolinks-track': 'reload' %>
    <%= javascript_include_tag 'application', 'data-turbolinks-track': 'reload' %>
  </head>

  <body>



    <header class="site-header">
      <h1 class="logo">BookHippo</h1>

      <nav class="navbar navbar-expand-lg navbar-light bg-light">
        <p> <%= link_to "Home", root_path %> </p>

        <% if current_user %>
          <p> <%= link_to "My Account", user_path(current_user) %> </p>
          <p> <%= link_to "Logout", :logout, method: :delete %> </p>
        <% else %>

          <p> <%= link_to "Register", new_user_path %> </p>
          <p> <%= link_to "Login", :login %> </p>

        <% end %>
      </nav>
        <%= form_tag( search_for_path, :method => "get", id: "search-form", class: "form-inline my-2 my-lg-0") do %>
            <%= text_field_tag :search, params[:search], placeholder: "Search books, people", class: "form-control mr-sm-2" %>
            <%= submit_tag "Search", class: "btn btn-outline-success my-2 my-sm-0", :name => nil %>
        <% end %>

      <% unless @user && @user == current_user %>
        <section class="current-user-stats">
          <%= render partial: 'shared/stats', locals: {user: current_user} %>
        </section>
      <% end %>
    </header>

    <% flash.each do |key, message| %>
      <div class="flash-<%= key %>"><%= message %></div>
    <% end %>

    <%= yield %>
  </body>
</html>
